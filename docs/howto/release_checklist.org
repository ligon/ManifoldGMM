#+TITLE: Release Preparation Checklist
#+AUTHOR: ManifoldGMM Maintainers
#+OPTIONS: toc:nil num:nil

* When Cutting a Release
1. **Update dependencies**
   - Pin =datamat= to the latest tagged release (edit =pyproject.toml=).
   - Review required dependency minimum versions (e.g., =jax=).
   - If you previously enabled the local editable install via =make use-local-datamat=,
     reinstall dependencies (`poetry install --with dev`) to restore the pin.
2. **Refresh documentation**
   - Update [[file:../../README.org][README.org]] highlights and install instructions if needed.
   - Record changes in [[file:../release/notes_0.3.0a1.org][docs/release/notes_0.3.0a1.org]] (or create a new notes file).
3. **Run test suites**
   - Preferred: `poetry run python scripts/release.py`
   - Manual fallback:
     #+begin_src bash
     poetry run make quick-check
     poetry run make slow-tests
     # Optional full sweep:
     poetry run make check
     #+end_src
4. **Build artifacts**
   - Already handled by `scripts/release.py`; otherwise run `poetry build`.
5. **Version bump**
   - Update =version= in =pyproject.toml=.
   - Commit with a message like “Bump version to v0.X.Y” and tag (`git tag v0.X.Y`).
6. **Publish**
   - Use `scripts/release.py --tag --push --publish` or run the equivalent commands:
     #+begin_src bash
     git push --follow-tags
     poetry publish
     #+end_src
   - Draft a GitHub release so Zenodo archives the tag and issues a DOI.
7. **Post-release**
   - Announce in project channels.
   - Open follow-up issues for any deferred items.
